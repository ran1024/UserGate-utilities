<h2 align="center">Конвертация конфигурации с CheckPoint на UserGate</h2>
<h3 align="center">(Версия 1.0)</h3>

Программа предназначена для переноса конфигурации с оборудования Check Point на NGFW UserGate.

При конвертации конфигурации создаются файлы в формате json с конфигурацией разделов.
Затем можно внести необходимые изменения в данные файлы и импортировать изменённые файлы конфигурации.

<p align="center"><img src="main_image.png"></p>

Для работы программы на зоне интерфейса, используемого для веб-консоли администратора, необходимо включить сервис xml-rpc.
Если используется зона Management, то это делать не надо, так как сервис xml-rpc на интерфейсе Management включён по умолчанию.
1. Открыть веб-консоль администратора таким образом: https://<usergate_ip>:8001/?features=zone-xml-rpc
2. В настройках нужной зоны активировать сервис "XML-RPC для управления".

<b>Порядок испльзования:</b>
1. Перед началом работы на NGFW UserGate настроить DNS, интерфейс Untrusted (для выхода в интернет), шлюз,
произвести активацию корректным ПИН-кодом. После этого дождаться обновления библиотек и списков.
2. Скачать архив <b>convert_checkpoint_config.zip</b>, распаковать, файл <b>convert_config.py</b> сделать исполняемым.
3. Получить конфигурацию Check Point <b>show package</b>.
4. Разархивировать полученный файл в каталог <b>convert_checkpoint_config/data_cp</b>.
5. Запустить на Check Point команду <b>save configuration config_cp.txt</b>.
6. Файл <b>config_cp.txt</b> поместить в каталог <b>convert_checkpoint_config/data_cp</b>.
7. После конвертации, перед импортом на NGFW UserGate, программа запрашивает ip узла, login и пароль администратора NGFW.
Проверьте, что у администратора, логин которого используете, в профиле включены разрешения для API.
8. Запустить <b>convert_config.py</b> в терминале.
9. Выбрать "Экспорт конфигурации". Будет произведена конвертация конфигурации Check Point в формат UserGate.
10. Если у Вас в правилах используются доменные пользователи и группы, то перед импортом конфигурации необходимо в первую
очередь на NGFW UserGate создать LDAP-коннектор, загрузить keytab-файл, если используется авторизация kerberos, и проверить
его работу.
11. Выбрать "Импорт конфигурации" для импорта конвертированной конфигурации на NGFW UserGate.

<b>Примечания:</b> 
1. Правила межсетевого экрана и контентной фильтрации после импорта находятся в неактивированном состоянии. Вам необходимо
проверить все правила, по необходимости откорректировать их, удалить ненужные и добавить необходимые. После этого включить
нужные правила и проверить их работу.

<b>В настоящее время реализован импорт:</b>
- сервисов,
- списков URL,
- списков IP-адресов,
- групп URL категрий,
- категорий приложений,
- настроек физических интерфейсов,
- интерфейсов VLAN,
- статических маршрутов,
- правил межсетевого экрана,
- правил фильтрации контента.

